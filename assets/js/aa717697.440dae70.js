"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[1346],{3560:(n,e,l)=>{l.r(e),l.d(e,{assets:()=>h,contentTitle:()=>c,default:()=>x,frontMatter:()=>r,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"devops/aliyun-cdn","title":"\u963f\u91cc\u4e91 CDN \u6559\u7a0b","description":"CDN (Content Delivery Network\uff0c\u5185\u5bb9\u5206\u53d1\u7f51\u7edc) \u662f\u4e00\u79cd\u5206\u5e03\u5f0f\u7f51\u7edc\u67b6\u6784\uff0c\u901a\u8fc7\u5c06\u5185\u5bb9\u7f13\u5b58\u5230\u5168\u7403\u5404\u5730\u7684\u8fb9\u7f18\u8282\u70b9\uff0c\u52a0\u901f\u7528\u6237\u8bbf\u95ee\uff0c\u63d0\u5347\u7f51\u7ad9\u6027\u80fd\u3002","source":"@site/docs/tutorial/devops/aliyun-cdn.md","sourceDirName":"devops","slug":"/devops/aliyun-cdn","permalink":"/docs/tutorial/devops/aliyun-cdn","draft":false,"unlisted":false,"editUrl":"https://github.com/beisi-tech/docs/tree/main/my-website/docs/tutorial/devops/aliyun-cdn.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_label":"\u963f\u91cc\u4e91 CDN","sidebar_position":6,"slug":"aliyun-cdn"},"sidebar":"tutorialSidebar","previous":{"title":"GitHub Actions","permalink":"/docs/tutorial/devops/github-actions"},"next":{"title":"VS Code","permalink":"/docs/tutorial/tools/vscode"}}');var d=l(4848),s=l(8453);const r={sidebar_label:"\u963f\u91cc\u4e91 CDN",sidebar_position:6,slug:"aliyun-cdn"},c="\u963f\u91cc\u4e91 CDN \u6559\u7a0b",h={},a=[{value:"CDN \u57fa\u7840\u6982\u5ff5",id:"cdn-\u57fa\u7840\u6982\u5ff5",level:2},{value:"\u4ec0\u4e48\u662f CDN",id:"\u4ec0\u4e48\u662f-cdn",level:3},{value:"\u6838\u5fc3\u6982\u5ff5",id:"\u6838\u5fc3\u6982\u5ff5",level:3},{value:"\u5f00\u901a CDN \u670d\u52a1",id:"\u5f00\u901a-cdn-\u670d\u52a1",level:2},{value:"1. \u524d\u7f6e\u51c6\u5907",id:"1-\u524d\u7f6e\u51c6\u5907",level:3},{value:"2. \u5f00\u901a\u6b65\u9aa4",id:"2-\u5f00\u901a\u6b65\u9aa4",level:3},{value:"\u6dfb\u52a0\u52a0\u901f\u57df\u540d",id:"\u6dfb\u52a0\u52a0\u901f\u57df\u540d",level:2},{value:"\u57fa\u7840\u914d\u7f6e",id:"\u57fa\u7840\u914d\u7f6e",level:3},{value:"\u914d\u7f6e\u793a\u4f8b",id:"\u914d\u7f6e\u793a\u4f8b",level:3},{value:"\u914d\u7f6e\u9759\u6001\u7f51\u7ad9\u52a0\u901f",id:"\u914d\u7f6e\u9759\u6001\u7f51\u7ad9\u52a0\u901f",level:4},{value:"\u914d\u7f6e OSS \u52a0\u901f",id:"\u914d\u7f6e-oss-\u52a0\u901f",level:4},{value:"HTTPS \u914d\u7f6e",id:"https-\u914d\u7f6e",level:2},{value:"1. \u4e0a\u4f20\u8bc1\u4e66",id:"1-\u4e0a\u4f20\u8bc1\u4e66",level:3},{value:"2. \u4e0a\u4f20\u81ea\u5b9a\u4e49\u8bc1\u4e66",id:"2-\u4e0a\u4f20\u81ea\u5b9a\u4e49\u8bc1\u4e66",level:3},{value:"3. HTTPS \u9ad8\u7ea7\u8bbe\u7f6e",id:"3-https-\u9ad8\u7ea7\u8bbe\u7f6e",level:3},{value:"\u7f13\u5b58\u914d\u7f6e",id:"\u7f13\u5b58\u914d\u7f6e",level:2},{value:"\u7f13\u5b58\u89c4\u5219\u8bbe\u7f6e",id:"\u7f13\u5b58\u89c4\u5219\u8bbe\u7f6e",level:3},{value:"\u63a8\u8350\u914d\u7f6e",id:"\u63a8\u8350\u914d\u7f6e",level:4},{value:"\u914d\u7f6e\u793a\u4f8b",id:"\u914d\u7f6e\u793a\u4f8b-1",level:3},{value:"\u5ffd\u7565\u53c2\u6570\u914d\u7f6e",id:"\u5ffd\u7565\u53c2\u6570\u914d\u7f6e",level:3},{value:"\u56de\u6e90\u914d\u7f6e",id:"\u56de\u6e90\u914d\u7f6e",level:2},{value:"\u56de\u6e90 HOST",id:"\u56de\u6e90-host",level:3},{value:"\u56de\u6e90\u534f\u8bae",id:"\u56de\u6e90\u534f\u8bae",level:3},{value:"\u56de\u6e90\u8bf7\u6c42\u5934",id:"\u56de\u6e90\u8bf7\u6c42\u5934",level:3},{value:"\u8bbf\u95ee\u63a7\u5236",id:"\u8bbf\u95ee\u63a7\u5236",level:2},{value:"IP \u9ed1\u767d\u540d\u5355",id:"ip-\u9ed1\u767d\u540d\u5355",level:3},{value:"Referer \u9632\u76d7\u94fe",id:"referer-\u9632\u76d7\u94fe",level:3},{value:"URL \u9274\u6743",id:"url-\u9274\u6743",level:3},{value:"A \u7c7b\u578b\u9274\u6743\uff08\u63a8\u8350\uff09",id:"a-\u7c7b\u578b\u9274\u6743\u63a8\u8350",level:4},{value:"\u9274\u6743\u7b97\u6cd5",id:"\u9274\u6743\u7b97\u6cd5",level:4},{value:"User-Agent \u9ed1\u767d\u540d\u5355",id:"user-agent-\u9ed1\u767d\u540d\u5355",level:3},{value:"\u6027\u80fd\u4f18\u5316",id:"\u6027\u80fd\u4f18\u5316",level:2},{value:"\u667a\u80fd\u538b\u7f29",id:"\u667a\u80fd\u538b\u7f29",level:3},{value:"\u9875\u9762\u4f18\u5316",id:"\u9875\u9762\u4f18\u5316",level:3},{value:"Brotli \u538b\u7f29",id:"brotli-\u538b\u7f29",level:3},{value:"Range \u56de\u6e90",id:"range-\u56de\u6e90",level:3},{value:"\u5237\u65b0\u548c\u9884\u70ed",id:"\u5237\u65b0\u548c\u9884\u70ed",level:2},{value:"\u5237\u65b0\u7f13\u5b58",id:"\u5237\u65b0\u7f13\u5b58",level:3},{value:"URL \u5237\u65b0",id:"url-\u5237\u65b0",level:4},{value:"\u76ee\u5f55\u5237\u65b0",id:"\u76ee\u5f55\u5237\u65b0",level:4},{value:"\u9884\u70ed\u5185\u5bb9",id:"\u9884\u70ed\u5185\u5bb9",level:3},{value:"\u4f7f\u7528 API \u5237\u65b0",id:"\u4f7f\u7528-api-\u5237\u65b0",level:3},{value:"DNS \u89e3\u6790\u914d\u7f6e",id:"dns-\u89e3\u6790\u914d\u7f6e",level:2},{value:"\u6dfb\u52a0 CNAME \u8bb0\u5f55",id:"\u6dfb\u52a0-cname-\u8bb0\u5f55",level:3},{value:"\u963f\u91cc\u4e91 DNS \u914d\u7f6e\u793a\u4f8b",id:"\u963f\u91cc\u4e91-dns-\u914d\u7f6e\u793a\u4f8b",level:4},{value:"\u9a8c\u8bc1 CNAME \u914d\u7f6e",id:"\u9a8c\u8bc1-cname-\u914d\u7f6e",level:4},{value:"\u76d1\u63a7\u4e0e\u7edf\u8ba1",id:"\u76d1\u63a7\u4e0e\u7edf\u8ba1",level:2},{value:"\u67e5\u770b\u5b9e\u65f6\u76d1\u63a7",id:"\u67e5\u770b\u5b9e\u65f6\u76d1\u63a7",level:3},{value:"\u8bbf\u95ee\u65e5\u5fd7",id:"\u8bbf\u95ee\u65e5\u5fd7",level:3},{value:"\u5f00\u542f\u65e5\u5fd7\u670d\u52a1",id:"\u5f00\u542f\u65e5\u5fd7\u670d\u52a1",level:4},{value:"\u4e0b\u8f7d\u65e5\u5fd7",id:"\u4e0b\u8f7d\u65e5\u5fd7",level:4},{value:"\u65e5\u5fd7\u683c\u5f0f",id:"\u65e5\u5fd7\u683c\u5f0f",level:4},{value:"\u4f7f\u7528\u65e5\u5fd7\u5206\u6790",id:"\u4f7f\u7528\u65e5\u5fd7\u5206\u6790",level:3},{value:"\u5e38\u89c1\u95ee\u9898",id:"\u5e38\u89c1\u95ee\u9898",level:2},{value:"1. \u7f13\u5b58\u672a\u751f\u6548",id:"1-\u7f13\u5b58\u672a\u751f\u6548",level:3},{value:"2. HTTPS \u8bc1\u4e66\u9519\u8bef",id:"2-https-\u8bc1\u4e66\u9519\u8bef",level:3},{value:"3. \u56de\u6e90\u5931\u8d25",id:"3-\u56de\u6e90\u5931\u8d25",level:3},{value:"4. \u8bbf\u95ee\u901f\u5ea6\u6162",id:"4-\u8bbf\u95ee\u901f\u5ea6\u6162",level:3},{value:"5. \u6d41\u91cf\u5f02\u5e38",id:"5-\u6d41\u91cf\u5f02\u5e38",level:3},{value:"\u6210\u672c\u4f18\u5316",id:"\u6210\u672c\u4f18\u5316",level:2},{value:"1. \u9009\u62e9\u5408\u9002\u7684\u8ba1\u8d39\u65b9\u5f0f",id:"1-\u9009\u62e9\u5408\u9002\u7684\u8ba1\u8d39\u65b9\u5f0f",level:3},{value:"2. \u4f18\u5316\u7f13\u5b58\u7b56\u7565",id:"2-\u4f18\u5316\u7f13\u5b58\u7b56\u7565",level:3},{value:"3. \u4f7f\u7528\u8d44\u6e90\u5305",id:"3-\u4f7f\u7528\u8d44\u6e90\u5305",level:3},{value:"4. \u6e05\u7406\u65e0\u7528\u57df\u540d",id:"4-\u6e05\u7406\u65e0\u7528\u57df\u540d",level:3},{value:"\u6700\u4f73\u5b9e\u8df5",id:"\u6700\u4f73\u5b9e\u8df5",level:2},{value:"1. \u6e90\u7ad9\u4f18\u5316",id:"1-\u6e90\u7ad9\u4f18\u5316",level:3},{value:"2. \u5408\u7406\u4f7f\u7528 CDN",id:"2-\u5408\u7406\u4f7f\u7528-cdn",level:3},{value:"3. \u5b89\u5168\u914d\u7f6e",id:"3-\u5b89\u5168\u914d\u7f6e",level:3},{value:"4. \u76d1\u63a7\u544a\u8b66",id:"4-\u76d1\u63a7\u544a\u8b66",level:3},{value:"\u53c2\u8003\u8d44\u6e90",id:"\u53c2\u8003\u8d44\u6e90",level:2}];function t(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...n.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.header,{children:(0,d.jsx)(e.h1,{id:"\u963f\u91cc\u4e91-cdn-\u6559\u7a0b",children:"\u963f\u91cc\u4e91 CDN \u6559\u7a0b"})}),"\n",(0,d.jsx)(e.p,{children:"CDN (Content Delivery Network\uff0c\u5185\u5bb9\u5206\u53d1\u7f51\u7edc) \u662f\u4e00\u79cd\u5206\u5e03\u5f0f\u7f51\u7edc\u67b6\u6784\uff0c\u901a\u8fc7\u5c06\u5185\u5bb9\u7f13\u5b58\u5230\u5168\u7403\u5404\u5730\u7684\u8fb9\u7f18\u8282\u70b9\uff0c\u52a0\u901f\u7528\u6237\u8bbf\u95ee\uff0c\u63d0\u5347\u7f51\u7ad9\u6027\u80fd\u3002"}),"\n",(0,d.jsx)(e.h2,{id:"cdn-\u57fa\u7840\u6982\u5ff5",children:"CDN \u57fa\u7840\u6982\u5ff5"}),"\n",(0,d.jsx)(e.h3,{id:"\u4ec0\u4e48\u662f-cdn",children:"\u4ec0\u4e48\u662f CDN"}),"\n",(0,d.jsx)(e.p,{children:"CDN \u901a\u8fc7\u667a\u80fd\u8c03\u5ea6\u7cfb\u7edf\uff0c\u5c06\u7528\u6237\u7684\u8bf7\u6c42\u5206\u914d\u5230\u6700\u8fd1\u7684\u8fb9\u7f18\u8282\u70b9\uff0c\u4ece\u800c\uff1a"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\ud83d\ude80 \u52a0\u901f\u5185\u5bb9\u8bbf\u95ee\u901f\u5ea6"}),"\n",(0,d.jsx)(e.li,{children:"\ud83d\udcc9 \u964d\u4f4e\u6e90\u7ad9\u5e26\u5bbd\u538b\u529b"}),"\n",(0,d.jsx)(e.li,{children:"\ud83d\udee1\ufe0f \u63d0\u4f9b DDoS \u9632\u62a4"}),"\n",(0,d.jsx)(e.li,{children:"\ud83c\udf0d \u6539\u5584\u5168\u7403\u8bbf\u95ee\u4f53\u9a8c"}),"\n"]}),"\n",(0,d.jsx)(e.h3,{id:"\u6838\u5fc3\u6982\u5ff5",children:"\u6838\u5fc3\u6982\u5ff5"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.strong,{children:"\u6e90\u7ad9"}),": \u5b58\u50a8\u539f\u59cb\u5185\u5bb9\u7684\u670d\u52a1\u5668"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.strong,{children:"\u8fb9\u7f18\u8282\u70b9"}),": CDN \u5728\u5404\u5730\u90e8\u7f72\u7684\u7f13\u5b58\u670d\u52a1\u5668"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.strong,{children:"\u56de\u6e90"}),": \u5f53\u8fb9\u7f18\u8282\u70b9\u6ca1\u6709\u7f13\u5b58\u65f6\uff0c\u5411\u6e90\u7ad9\u83b7\u53d6\u5185\u5bb9"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.strong,{children:"\u7f13\u5b58"}),": \u5c06\u5185\u5bb9\u4e34\u65f6\u5b58\u50a8\u5728\u8fb9\u7f18\u8282\u70b9"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.strong,{children:"\u5237\u65b0"}),": \u6e05\u9664\u8fb9\u7f18\u8282\u70b9\u7684\u7f13\u5b58\u5185\u5bb9"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.strong,{children:"\u9884\u70ed"}),": \u63d0\u524d\u5c06\u5185\u5bb9\u63a8\u9001\u5230\u8fb9\u7f18\u8282\u70b9"]}),"\n"]}),"\n",(0,d.jsx)(e.h2,{id:"\u5f00\u901a-cdn-\u670d\u52a1",children:"\u5f00\u901a CDN \u670d\u52a1"}),"\n",(0,d.jsx)(e.h3,{id:"1-\u524d\u7f6e\u51c6\u5907",children:"1. \u524d\u7f6e\u51c6\u5907"}),"\n",(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsx)(e.li,{children:"\u62e5\u6709\u963f\u91cc\u4e91\u8d26\u53f7"}),"\n",(0,d.jsx)(e.li,{children:"\u5b8c\u6210\u5b9e\u540d\u8ba4\u8bc1"}),"\n",(0,d.jsx)(e.li,{children:"\u57df\u540d\u5df2\u5907\u6848\uff08\u4e2d\u56fd\u5927\u9646\u8282\u70b9\u5fc5\u9700\uff09"}),"\n",(0,d.jsx)(e.li,{children:"\u51c6\u5907\u597d\u6e90\u7ad9\u670d\u52a1\u5668\u6216 OSS"}),"\n"]}),"\n",(0,d.jsx)(e.h3,{id:"2-\u5f00\u901a\u6b65\u9aa4",children:"2. \u5f00\u901a\u6b65\u9aa4"}),"\n",(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsxs)(e.li,{children:["\u767b\u5f55 ",(0,d.jsx)(e.a,{href:"https://www.aliyun.com/",children:"\u963f\u91cc\u4e91\u63a7\u5236\u53f0"})]}),"\n",(0,d.jsx)(e.li,{children:'\u641c\u7d22 "CDN" \u8fdb\u5165 CDN \u63a7\u5236\u53f0'}),"\n",(0,d.jsx)(e.li,{children:'\u70b9\u51fb "\u7acb\u5373\u5f00\u901a"'}),"\n",(0,d.jsxs)(e.li,{children:["\u9009\u62e9\u8ba1\u8d39\u65b9\u5f0f\uff1a","\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u6309\u6d41\u91cf\u8ba1\u8d39\uff08\u9002\u5408\u6d41\u91cf\u6ce2\u52a8\u5927\u7684\u573a\u666f\uff09"}),"\n",(0,d.jsx)(e.li,{children:"\u6309\u5e26\u5bbd\u8ba1\u8d39\uff08\u9002\u5408\u6d41\u91cf\u7a33\u5b9a\u7684\u573a\u666f\uff09"}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(e.li,{children:"\u786e\u8ba4\u5f00\u901a"}),"\n"]}),"\n",(0,d.jsx)(e.h2,{id:"\u6dfb\u52a0\u52a0\u901f\u57df\u540d",children:"\u6dfb\u52a0\u52a0\u901f\u57df\u540d"}),"\n",(0,d.jsx)(e.h3,{id:"\u57fa\u7840\u914d\u7f6e",children:"\u57fa\u7840\u914d\u7f6e"}),"\n",(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsx)(e.li,{children:"\u8fdb\u5165 CDN \u63a7\u5236\u53f0"}),"\n",(0,d.jsx)(e.li,{children:'\u70b9\u51fb "\u57df\u540d\u7ba1\u7406" \u2192 "\u6dfb\u52a0\u57df\u540d"'}),"\n",(0,d.jsx)(e.li,{children:"\u586b\u5199\u914d\u7f6e\u4fe1\u606f\uff1a"}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"\u52a0\u901f\u57df\u540d: cdn.example.com\n\u4e1a\u52a1\u7c7b\u578b: \n  - \u56fe\u7247\u5c0f\u6587\u4ef6\uff1a\u9002\u7528\u4e8e\u7f51\u7ad9\u3001\u7535\u5546\u3001\u6e38\u620f\u7b49\n  - \u5927\u6587\u4ef6\u4e0b\u8f7d\uff1a\u9002\u7528\u4e8e\u8f6f\u4ef6\u3001\u6e38\u620f\u5b89\u88c5\u5305\u7b49\n  - \u89c6\u97f3\u9891\u70b9\u64ad\uff1a\u9002\u7528\u4e8e\u97f3\u89c6\u9891\u70b9\u64ad\u52a0\u901f\n  - \u5168\u7ad9\u52a0\u901f\uff1a\u9002\u7528\u4e8e\u52a8\u6001\u5185\u5bb9\u6216\u52a8\u9759\u6001\u6df7\u5408\u573a\u666f\n\u6e90\u7ad9\u4fe1\u606f:\n  - IP \u6e90\u7ad9\uff1a\u76f4\u63a5\u586b\u5199\u670d\u52a1\u5668 IP\n  - OSS \u57df\u540d\uff1a\u9009\u62e9 OSS Bucket\n  - \u6e90\u7ad9\u57df\u540d\uff1a\u586b\u5199\u6e90\u7ad9\u57df\u540d\n\u7aef\u53e3: 80 / 443\n\u52a0\u901f\u533a\u57df:\n  - \u4ec5\u4e2d\u56fd\u5927\u9646\n  - \u5168\u7403\uff08\u4e0d\u542b\u4e2d\u56fd\u5927\u9646\uff09\n  - \u5168\u7403\n"})}),"\n",(0,d.jsx)(e.h3,{id:"\u914d\u7f6e\u793a\u4f8b",children:"\u914d\u7f6e\u793a\u4f8b"}),"\n",(0,d.jsx)(e.h4,{id:"\u914d\u7f6e\u9759\u6001\u7f51\u7ad9\u52a0\u901f",children:"\u914d\u7f6e\u9759\u6001\u7f51\u7ad9\u52a0\u901f"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-yaml",children:"\u52a0\u901f\u57df\u540d: static.example.com\n\u4e1a\u52a1\u7c7b\u578b: \u56fe\u7247\u5c0f\u6587\u4ef6\n\u6e90\u7ad9\u7c7b\u578b: IP \u6e90\u7ad9\n\u6e90\u7ad9\u5730\u5740: 192.168.1.100\n\u7aef\u53e3: 80\n\u52a0\u901f\u533a\u57df: \u5168\u7403\n"})}),"\n",(0,d.jsx)(e.h4,{id:"\u914d\u7f6e-oss-\u52a0\u901f",children:"\u914d\u7f6e OSS \u52a0\u901f"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-yaml",children:"\u52a0\u901f\u57df\u540d: cdn.example.com\n\u4e1a\u52a1\u7c7b\u578b: \u56fe\u7247\u5c0f\u6587\u4ef6\n\u6e90\u7ad9\u7c7b\u578b: OSS \u57df\u540d\nOSS Bucket: my-bucket.oss-cn-hangzhou.aliyuncs.com\n\u7aef\u53e3: 80\n\u52a0\u901f\u533a\u57df: \u4ec5\u4e2d\u56fd\u5927\u9646\n"})}),"\n",(0,d.jsx)(e.h2,{id:"https-\u914d\u7f6e",children:"HTTPS \u914d\u7f6e"}),"\n",(0,d.jsx)(e.h3,{id:"1-\u4e0a\u4f20\u8bc1\u4e66",children:"1. \u4e0a\u4f20\u8bc1\u4e66"}),"\n",(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsx)(e.li,{children:"\u8fdb\u5165\u57df\u540d\u7ba1\u7406 \u2192 \u9009\u62e9\u57df\u540d \u2192 HTTPS \u914d\u7f6e"}),"\n",(0,d.jsx)(e.li,{children:'\u70b9\u51fb "\u4fee\u6539\u914d\u7f6e"'}),"\n",(0,d.jsx)(e.li,{children:'\u5f00\u542f "HTTPS \u5b89\u5168\u52a0\u901f"'}),"\n",(0,d.jsxs)(e.li,{children:["\u8bc1\u4e66\u6765\u6e90\uff1a","\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.strong,{children:"\u514d\u8d39\u8bc1\u4e66"}),"\uff1a\u963f\u91cc\u4e91\u63d0\u4f9b\u7684\u514d\u8d39 DV \u8bc1\u4e66"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.strong,{children:"\u4e91\u76fe\u8bc1\u4e66"}),"\uff1a\u5df2\u8d2d\u4e70\u7684 SSL \u8bc1\u4e66"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.strong,{children:"\u81ea\u5b9a\u4e49\u4e0a\u4f20"}),"\uff1a\u4e0a\u4f20\u81ea\u5df1\u7684\u8bc1\u4e66"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(e.h3,{id:"2-\u4e0a\u4f20\u81ea\u5b9a\u4e49\u8bc1\u4e66",children:"2. \u4e0a\u4f20\u81ea\u5b9a\u4e49\u8bc1\u4e66"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"\u8bc1\u4e66\u540d\u79f0: example.com\n\u8bc1\u4e66\u5185\u5bb9: \n-----BEGIN CERTIFICATE-----\n[\u8bc1\u4e66\u5185\u5bb9]\n-----END CERTIFICATE-----\n\n\u79c1\u94a5\u5185\u5bb9:\n-----BEGIN RSA PRIVATE KEY-----\n[\u79c1\u94a5\u5185\u5bb9]\n-----END RSA PRIVATE KEY-----\n"})}),"\n",(0,d.jsx)(e.h3,{id:"3-https-\u9ad8\u7ea7\u8bbe\u7f6e",children:"3. HTTPS \u9ad8\u7ea7\u8bbe\u7f6e"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-yaml",children:"HTTP/2: \u5f00\u542f # \u63d0\u5347\u6027\u80fd\n\u5f3a\u5236\u8df3\u8f6c: HTTPS # HTTP \u81ea\u52a8\u8df3\u8f6c\u5230 HTTPS\nTLS \u7248\u672c: TLSv1.2 \u53ca\u4ee5\u4e0a\nHSTS: \u5f00\u542f # \u589e\u5f3a\u5b89\u5168\u6027\n"})}),"\n",(0,d.jsx)(e.h2,{id:"\u7f13\u5b58\u914d\u7f6e",children:"\u7f13\u5b58\u914d\u7f6e"}),"\n",(0,d.jsx)(e.h3,{id:"\u7f13\u5b58\u89c4\u5219\u8bbe\u7f6e",children:"\u7f13\u5b58\u89c4\u5219\u8bbe\u7f6e"}),"\n",(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsx)(e.li,{children:"\u8fdb\u5165\u57df\u540d\u7ba1\u7406 \u2192 \u7f13\u5b58\u914d\u7f6e \u2192 \u7f13\u5b58\u8fc7\u671f\u65f6\u95f4"}),"\n",(0,d.jsx)(e.li,{children:"\u6dfb\u52a0\u7f13\u5b58\u89c4\u5219"}),"\n"]}),"\n",(0,d.jsx)(e.h4,{id:"\u63a8\u8350\u914d\u7f6e",children:"\u63a8\u8350\u914d\u7f6e"}),"\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"\u6587\u4ef6\u7c7b\u578b"}),(0,d.jsx)(e.th,{children:"\u76ee\u5f55/\u6587\u4ef6"}),(0,d.jsx)(e.th,{children:"\u8fc7\u671f\u65f6\u95f4"}),(0,d.jsx)(e.th,{children:"\u4f18\u5148\u7ea7"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"HTML"}),(0,d.jsx)(e.td,{children:".html"}),(0,d.jsx)(e.td,{children:"1 \u5c0f\u65f6"}),(0,d.jsx)(e.td,{children:"90"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"\u56fe\u7247"}),(0,d.jsx)(e.td,{children:".jpg,.png,.gif,.webp"}),(0,d.jsx)(e.td,{children:"7 \u5929"}),(0,d.jsx)(e.td,{children:"80"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"CSS/JS"}),(0,d.jsx)(e.td,{children:".css,.js"}),(0,d.jsx)(e.td,{children:"7 \u5929"}),(0,d.jsx)(e.td,{children:"80"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"\u89c6\u9891"}),(0,d.jsx)(e.td,{children:".mp4,.avi,.flv"}),(0,d.jsx)(e.td,{children:"30 \u5929"}),(0,d.jsx)(e.td,{children:"70"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"\u5b57\u4f53"}),(0,d.jsx)(e.td,{children:".woff,.woff2,.ttf"}),(0,d.jsx)(e.td,{children:"30 \u5929"}),(0,d.jsx)(e.td,{children:"70"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"\u5176\u4ed6"}),(0,d.jsx)(e.td,{children:"/"}),(0,d.jsx)(e.td,{children:"1 \u5929"}),(0,d.jsx)(e.td,{children:"60"})]})]})]}),"\n",(0,d.jsx)(e.h3,{id:"\u914d\u7f6e\u793a\u4f8b-1",children:"\u914d\u7f6e\u793a\u4f8b"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"\u7c7b\u578b: \u76ee\u5f55\n\u8def\u5f84: /static/images/\n\u8fc7\u671f\u65f6\u95f4: 30 \u5929\n\u6743\u91cd: 90\n\n\u7c7b\u578b: \u6587\u4ef6\u540e\u7f00\n\u8def\u5f84: jpg,png,gif,webp,svg\n\u8fc7\u671f\u65f6\u95f4: 7 \u5929\n\u6743\u91cd: 80\n\n\u7c7b\u578b: \u6587\u4ef6\u540e\u7f00\n\u8def\u5f84: css,js\n\u8fc7\u671f\u65f6\u95f4: 3 \u5929\n\u6743\u91cd: 80\n\n\u7c7b\u578b: \u6587\u4ef6\u540e\u7f00\n\u8def\u5f84: html,htm\n\u8fc7\u671f\u65f6\u95f4: 10 \u5206\u949f\n\u6743\u91cd: 90\n"})}),"\n",(0,d.jsx)(e.h3,{id:"\u5ffd\u7565\u53c2\u6570\u914d\u7f6e",children:"\u5ffd\u7565\u53c2\u6570\u914d\u7f6e"}),"\n",(0,d.jsx)(e.p,{children:"\u5bf9\u4e8e\u5e26\u53c2\u6570\u7684 URL\uff0c\u53ef\u4ee5\u914d\u7f6e\u662f\u5426\u5ffd\u7565\u53c2\u6570\uff1a"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-yaml",children:"# \u5ffd\u7565\u6240\u6709\u53c2\u6570\uff08\u63d0\u9ad8\u7f13\u5b58\u547d\u4e2d\u7387\uff09\n\u4fdd\u7559\u53c2\u6570: \u5173\u95ed\n\n# \u4fdd\u7559\u6307\u5b9a\u53c2\u6570\n\u4fdd\u7559\u53c2\u6570: \u5f00\u542f\n\u4fdd\u7559\u53c2\u6570\u5217\u8868: version,lang\n"})}),"\n",(0,d.jsx)(e.h2,{id:"\u56de\u6e90\u914d\u7f6e",children:"\u56de\u6e90\u914d\u7f6e"}),"\n",(0,d.jsx)(e.h3,{id:"\u56de\u6e90-host",children:"\u56de\u6e90 HOST"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-yaml",children:"\u56de\u6e90 HOST \u7c7b\u578b:\n  - \u52a0\u901f\u57df\u540d: \u4f7f\u7528 CDN \u52a0\u901f\u57df\u540d\u4f5c\u4e3a\u56de\u6e90 HOST\n  - \u6e90\u7ad9\u57df\u540d: \u4f7f\u7528\u6e90\u7ad9\u57df\u540d\u4f5c\u4e3a\u56de\u6e90 HOST\n  - \u81ea\u5b9a\u4e49\u57df\u540d: \u81ea\u5b9a\u4e49\u56de\u6e90 HOST\n"})}),"\n",(0,d.jsx)(e.h3,{id:"\u56de\u6e90\u534f\u8bae",children:"\u56de\u6e90\u534f\u8bae"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-yaml",children:"\u56de\u6e90\u534f\u8bae:\n  - HTTP: \u4ec5\u4f7f\u7528 HTTP \u56de\u6e90\n  - HTTPS: \u4ec5\u4f7f\u7528 HTTPS \u56de\u6e90\n  - \u534f\u8bae\u8ddf\u968f: \u8ddf\u968f\u7528\u6237\u8bf7\u6c42\u534f\u8bae\n"})}),"\n",(0,d.jsx)(e.h3,{id:"\u56de\u6e90\u8bf7\u6c42\u5934",children:"\u56de\u6e90\u8bf7\u6c42\u5934"}),"\n",(0,d.jsx)(e.p,{children:"\u6dfb\u52a0\u81ea\u5b9a\u4e49\u56de\u6e90\u8bf7\u6c42\u5934\uff1a"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"X-Forwarded-For: $client_ip\nX-Real-IP: $client_ip\nX-CDN-Provider: Aliyun\n"})}),"\n",(0,d.jsx)(e.h2,{id:"\u8bbf\u95ee\u63a7\u5236",children:"\u8bbf\u95ee\u63a7\u5236"}),"\n",(0,d.jsx)(e.h3,{id:"ip-\u9ed1\u767d\u540d\u5355",children:"IP \u9ed1\u767d\u540d\u5355"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-yaml",children:"# IP \u767d\u540d\u5355\uff08\u4ec5\u5141\u8bb8\u6307\u5b9a IP \u8bbf\u95ee\uff09\n\u7c7b\u578b: \u767d\u540d\u5355\nIP \u5217\u8868:\n  - 192.168.1.0/24\n  - 10.0.0.1\n\n# IP \u9ed1\u540d\u5355\uff08\u7981\u6b62\u6307\u5b9a IP \u8bbf\u95ee\uff09\n\u7c7b\u578b: \u9ed1\u540d\u5355\nIP \u5217\u8868:\n  - 8.8.8.8\n  - 1.1.1.1\n"})}),"\n",(0,d.jsx)(e.h3,{id:"referer-\u9632\u76d7\u94fe",children:"Referer \u9632\u76d7\u94fe"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-yaml",children:"\u9632\u76d7\u94fe\u7c7b\u578b: \u767d\u540d\u5355\n\u5141\u8bb8\u7a7a Referer: \u5426\nReferer \u767d\u540d\u5355:\n  - *.example.com\n  - example.com\n  - trusted-site.com\n"})}),"\n",(0,d.jsx)(e.h3,{id:"url-\u9274\u6743",children:"URL \u9274\u6743"}),"\n",(0,d.jsx)(e.h4,{id:"a-\u7c7b\u578b\u9274\u6743\u63a8\u8350",children:"A \u7c7b\u578b\u9274\u6743\uff08\u63a8\u8350\uff09"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"\u9274\u6743\u7c7b\u578b: A \u7c7b\u578b\n\u4e3b KEY: your-primary-key\n\u5907 KEY: your-backup-key\n\u6709\u6548\u65f6\u95f4: 1800 \u79d2\n\n\u751f\u6210\u7684 URL \u683c\u5f0f:\nhttp://cdn.example.com/path/file.jpg?auth_key=timestamp-rand-uid-md5hash\n"})}),"\n",(0,d.jsx)(e.h4,{id:"\u9274\u6743\u7b97\u6cd5",children:"\u9274\u6743\u7b97\u6cd5"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-python",children:'import hashlib\nimport time\nimport random\n\ndef generate_auth_url(uri, key, expire_time=1800):\n    """\n    \u751f\u6210\u963f\u91cc\u4e91 CDN A \u7c7b\u578b\u9274\u6743 URL\n    \n    :param uri: \u8d44\u6e90\u8def\u5f84\uff0c\u5982 /path/file.jpg\n    :param key: \u9274\u6743\u5bc6\u94a5\n    :param expire_time: \u6709\u6548\u65f6\u95f4\uff08\u79d2\uff09\n    :return: \u5b8c\u6574\u7684\u9274\u6743 URL\n    """\n    # \u751f\u6210\u8fc7\u671f\u65f6\u95f4\u6233\n    timestamp = int(time.time()) + expire_time\n    \n    # \u751f\u6210\u968f\u673a\u6570\n    rand = random.randint(0, 100)\n    \n    # UID\uff08\u53ef\u9009\uff0c\u9ed8\u8ba4\u4e3a 0\uff09\n    uid = 0\n    \n    # \u62fc\u63a5\u5b57\u7b26\u4e32: uri-timestamp-rand-uid-key\n    sstring = f"{uri}-{timestamp}-{rand}-{uid}-{key}"\n    \n    # \u8ba1\u7b97 MD5\n    md5hash = hashlib.md5(sstring.encode()).hexdigest()\n    \n    # \u751f\u6210\u9274\u6743\u53c2\u6570\n    auth_key = f"{timestamp}-{rand}-{uid}-{md5hash}"\n    \n    # \u8fd4\u56de\u5b8c\u6574 URL\n    return f"{uri}?auth_key={auth_key}"\n\n# \u4f7f\u7528\u793a\u4f8b\nurl = generate_auth_url("/video/sample.mp4", "your-secret-key")\nprint(f"\u9274\u6743 URL: https://cdn.example.com{url}")\n'})}),"\n",(0,d.jsx)(e.h3,{id:"user-agent-\u9ed1\u767d\u540d\u5355",children:"User-Agent \u9ed1\u767d\u540d\u5355"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-yaml",children:"\u7c7b\u578b: \u9ed1\u540d\u5355\nUser-Agent:\n  - *bot*\n  - *spider*\n  - *crawler*\n"})}),"\n",(0,d.jsx)(e.h2,{id:"\u6027\u80fd\u4f18\u5316",children:"\u6027\u80fd\u4f18\u5316"}),"\n",(0,d.jsx)(e.h3,{id:"\u667a\u80fd\u538b\u7f29",children:"\u667a\u80fd\u538b\u7f29"}),"\n",(0,d.jsx)(e.p,{children:"\u5f00\u542f Gzip \u538b\u7f29\uff0c\u51cf\u5c11\u4f20\u8f93\u6570\u636e\u91cf\uff1a"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-yaml",children:"\u667a\u80fd\u538b\u7f29: \u5f00\u542f\n\u538b\u7f29\u6587\u4ef6\u7c7b\u578b:\n  - text/html\n  - text/css\n  - text/javascript\n  - application/javascript\n  - application/json\n  - application/xml\n"})}),"\n",(0,d.jsx)(e.h3,{id:"\u9875\u9762\u4f18\u5316",children:"\u9875\u9762\u4f18\u5316"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-yaml",children:"HTML \u4f18\u5316: \u5f00\u542f # \u5220\u9664\u6ce8\u91ca\u3001\u538b\u7f29\u7a7a\u767d\nCSS \u4f18\u5316: \u5f00\u542f # \u538b\u7f29 CSS \u6587\u4ef6\nJavaScript \u4f18\u5316: \u5f00\u542f # \u538b\u7f29 JS \u6587\u4ef6\n"})}),"\n",(0,d.jsx)(e.h3,{id:"brotli-\u538b\u7f29",children:"Brotli \u538b\u7f29"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-yaml",children:"Brotli \u538b\u7f29: \u5f00\u542f # \u6bd4 Gzip \u66f4\u9ad8\u7684\u538b\u7f29\u7387\n"})}),"\n",(0,d.jsx)(e.h3,{id:"range-\u56de\u6e90",children:"Range \u56de\u6e90"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-yaml",children:"Range \u56de\u6e90: \u5f00\u542f # \u652f\u6301\u65ad\u70b9\u7eed\u4f20\n"})}),"\n",(0,d.jsx)(e.h2,{id:"\u5237\u65b0\u548c\u9884\u70ed",children:"\u5237\u65b0\u548c\u9884\u70ed"}),"\n",(0,d.jsx)(e.h3,{id:"\u5237\u65b0\u7f13\u5b58",children:"\u5237\u65b0\u7f13\u5b58"}),"\n",(0,d.jsx)(e.h4,{id:"url-\u5237\u65b0",children:"URL \u5237\u65b0"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"\u5237\u65b0\u7c7b\u578b: URL\nURL \u5217\u8868:\nhttps://cdn.example.com/path/file.jpg\nhttps://cdn.example.com/path/file2.jpg\n\n\u8bf4\u660e: \u6bcf\u6b21\u6700\u591a 2000 \u4e2a URL\uff0c\u6bcf\u5929\u9650\u989d 2000 \u4e2a\n"})}),"\n",(0,d.jsx)(e.h4,{id:"\u76ee\u5f55\u5237\u65b0",children:"\u76ee\u5f55\u5237\u65b0"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"\u5237\u65b0\u7c7b\u578b: \u76ee\u5f55\n\u76ee\u5f55\u5217\u8868:\nhttps://cdn.example.com/images/\nhttps://cdn.example.com/css/\n\n\u8bf4\u660e: \u6bcf\u6b21\u6700\u591a 100 \u4e2a\u76ee\u5f55\uff0c\u6bcf\u5929\u9650\u989d 100 \u4e2a\n"})}),"\n",(0,d.jsx)(e.h3,{id:"\u9884\u70ed\u5185\u5bb9",children:"\u9884\u70ed\u5185\u5bb9"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"URL \u5217\u8868:\nhttps://cdn.example.com/popular/video.mp4\nhttps://cdn.example.com/popular/image.jpg\n\n\u8bf4\u660e: \u6bcf\u6b21\u6700\u591a 500 \u4e2a URL\uff0c\u6bcf\u5929\u9650\u989d 500 \u4e2a\n"})}),"\n",(0,d.jsx)(e.h3,{id:"\u4f7f\u7528-api-\u5237\u65b0",children:"\u4f7f\u7528 API \u5237\u65b0"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-python",children:"#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n\nfrom aliyunsdkcore.client import AcsClient\nfrom aliyunsdkcore.request import CommonRequest\n\ndef refresh_cdn_cache(urls):\n    \"\"\"\n    \u5237\u65b0 CDN \u7f13\u5b58\n    \n    :param urls: URL \u5217\u8868\uff0c\u7528 \\n \u5206\u9694\n    \"\"\"\n    # \u521b\u5efa AcsClient \u5b9e\u4f8b\n    client = AcsClient(\n        'your-access-key-id',\n        'your-access-key-secret',\n        'cn-hangzhou'\n    )\n    \n    # \u521b\u5efa request\n    request = CommonRequest()\n    request.set_accept_format('json')\n    request.set_domain('cdn.aliyuncs.com')\n    request.set_method('POST')\n    request.set_version('2018-05-10')\n    request.set_action_name('RefreshObjectCaches')\n    \n    # \u8bbe\u7f6e\u53c2\u6570\n    request.add_query_param('ObjectPath', urls)\n    request.add_query_param('ObjectType', 'File')\n    \n    # \u53d1\u8d77\u8bf7\u6c42\n    response = client.do_action_with_exception(request)\n    print(response)\n\n# \u4f7f\u7528\u793a\u4f8b\nurls = \"\"\"https://cdn.example.com/image1.jpg\nhttps://cdn.example.com/image2.jpg\"\"\"\n\nrefresh_cdn_cache(urls)\n"})}),"\n",(0,d.jsx)(e.h2,{id:"dns-\u89e3\u6790\u914d\u7f6e",children:"DNS \u89e3\u6790\u914d\u7f6e"}),"\n",(0,d.jsx)(e.h3,{id:"\u6dfb\u52a0-cname-\u8bb0\u5f55",children:"\u6dfb\u52a0 CNAME \u8bb0\u5f55"}),"\n",(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u5728 CDN \u63a7\u5236\u53f0\u83b7\u53d6 CNAME \u5730\u5740"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\u683c\u5f0f\uff1a",(0,d.jsx)(e.code,{children:"xxx.xxx.com.w.kunlunsl.com"})]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u5728\u57df\u540d DNS \u670d\u52a1\u5546\u5904\u6dfb\u52a0 CNAME \u8bb0\u5f55"}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(e.h4,{id:"\u963f\u91cc\u4e91-dns-\u914d\u7f6e\u793a\u4f8b",children:"\u963f\u91cc\u4e91 DNS \u914d\u7f6e\u793a\u4f8b"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"\u8bb0\u5f55\u7c7b\u578b: CNAME\n\u4e3b\u673a\u8bb0\u5f55: cdn\n\u8bb0\u5f55\u503c: xxx.xxx.com.w.kunlunsl.com\n\u89e3\u6790\u7ebf\u8def: \u9ed8\u8ba4\nTTL: 10 \u5206\u949f\n"})}),"\n",(0,d.jsx)(e.h4,{id:"\u9a8c\u8bc1-cname-\u914d\u7f6e",children:"\u9a8c\u8bc1 CNAME \u914d\u7f6e"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-bash",children:"# Windows\nnslookup cdn.example.com\n\n# Linux / macOS\ndig cdn.example.com\n"})}),"\n",(0,d.jsx)(e.h2,{id:"\u76d1\u63a7\u4e0e\u7edf\u8ba1",children:"\u76d1\u63a7\u4e0e\u7edf\u8ba1"}),"\n",(0,d.jsx)(e.h3,{id:"\u67e5\u770b\u5b9e\u65f6\u76d1\u63a7",children:"\u67e5\u770b\u5b9e\u65f6\u76d1\u63a7"}),"\n",(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsx)(e.li,{children:"\u8fdb\u5165 CDN \u63a7\u5236\u53f0 \u2192 \u6570\u636e\u76d1\u63a7"}),"\n",(0,d.jsxs)(e.li,{children:["\u67e5\u770b\u6307\u6807\uff1a","\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u5e26\u5bbd"}),"\n",(0,d.jsx)(e.li,{children:"\u6d41\u91cf"}),"\n",(0,d.jsx)(e.li,{children:"\u8bf7\u6c42\u6b21\u6570"}),"\n",(0,d.jsx)(e.li,{children:"QPS"}),"\n",(0,d.jsx)(e.li,{children:"\u547d\u4e2d\u7387"}),"\n",(0,d.jsx)(e.li,{children:"\u72b6\u6001\u7801\u5206\u5e03"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(e.h3,{id:"\u8bbf\u95ee\u65e5\u5fd7",children:"\u8bbf\u95ee\u65e5\u5fd7"}),"\n",(0,d.jsx)(e.h4,{id:"\u5f00\u542f\u65e5\u5fd7\u670d\u52a1",children:"\u5f00\u542f\u65e5\u5fd7\u670d\u52a1"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-yaml",children:"\u65e5\u5fd7\u670d\u52a1: \u5f00\u542f\n\u5b58\u50a8\u4f4d\u7f6e: OSS Bucket\n\u65e5\u5fd7\u4fdd\u5b58\u5929\u6570: 30 \u5929\n"})}),"\n",(0,d.jsx)(e.h4,{id:"\u4e0b\u8f7d\u65e5\u5fd7",children:"\u4e0b\u8f7d\u65e5\u5fd7"}),"\n",(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsx)(e.li,{children:"\u8fdb\u5165\u65e5\u5fd7\u7ba1\u7406"}),"\n",(0,d.jsx)(e.li,{children:"\u9009\u62e9\u65f6\u95f4\u8303\u56f4"}),"\n",(0,d.jsx)(e.li,{children:"\u4e0b\u8f7d\u65e5\u5fd7\u6587\u4ef6"}),"\n"]}),"\n",(0,d.jsx)(e.h4,{id:"\u65e5\u5fd7\u683c\u5f0f",children:"\u65e5\u5fd7\u683c\u5f0f"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"[\u65f6\u95f4] [\u5ba2\u6237\u7aefIP] [\u57df\u540d] [\u8bf7\u6c42URI] [HTTP\u72b6\u6001\u7801] [\u54cd\u5e94\u5927\u5c0f] [Referer] [User-Agent] [\u547d\u4e2d\u60c5\u51b5]\n"})}),"\n",(0,d.jsx)(e.h3,{id:"\u4f7f\u7528\u65e5\u5fd7\u5206\u6790",children:"\u4f7f\u7528\u65e5\u5fd7\u5206\u6790"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-bash",children:"# \u7edf\u8ba1\u8bbf\u95ee\u6700\u591a\u7684 URL\ncat cdn.log | awk '{print $4}' | sort | uniq -c | sort -rn | head -20\n\n# \u7edf\u8ba1\u72b6\u6001\u7801\u5206\u5e03\ncat cdn.log | awk '{print $5}' | sort | uniq -c\n\n# \u7edf\u8ba1\u7f13\u5b58\u547d\u4e2d\u7387\ncat cdn.log | grep \"HIT\" | wc -l\ncat cdn.log | wc -l\n"})}),"\n",(0,d.jsx)(e.h2,{id:"\u5e38\u89c1\u95ee\u9898",children:"\u5e38\u89c1\u95ee\u9898"}),"\n",(0,d.jsx)(e.h3,{id:"1-\u7f13\u5b58\u672a\u751f\u6548",children:"1. \u7f13\u5b58\u672a\u751f\u6548"}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"}),"\uff1a"]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\u6e90\u7ad9\u8bbe\u7f6e\u4e86 ",(0,d.jsx)(e.code,{children:"Cache-Control: no-cache"})]}),"\n",(0,d.jsx)(e.li,{children:"CDN \u7f13\u5b58\u89c4\u5219\u672a\u6b63\u786e\u914d\u7f6e"}),"\n",(0,d.jsx)(e.li,{children:"\u8bf7\u6c42\u5e26\u6709\u53d8\u5316\u7684\u53c2\u6570"}),"\n"]}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"}),"\uff1a"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-yaml",children:"# \u68c0\u67e5\u6e90\u7ad9\u54cd\u5e94\u5934\nCache-Control: max-age=86400\n\n# \u8bbe\u7f6e CDN \u7f13\u5b58\u89c4\u5219\n\u7f13\u5b58\u65f6\u95f4: 1 \u5929\n\u5ffd\u7565\u53c2\u6570: \u5f00\u542f\n"})}),"\n",(0,d.jsx)(e.h3,{id:"2-https-\u8bc1\u4e66\u9519\u8bef",children:"2. HTTPS \u8bc1\u4e66\u9519\u8bef"}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"}),"\uff1a"]}),"\n",(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsx)(e.li,{children:"\u68c0\u67e5\u8bc1\u4e66\u662f\u5426\u8fc7\u671f"}),"\n",(0,d.jsx)(e.li,{children:"\u786e\u8ba4\u8bc1\u4e66\u94fe\u5b8c\u6574"}),"\n",(0,d.jsx)(e.li,{children:"\u9a8c\u8bc1\u79c1\u94a5\u4e0e\u8bc1\u4e66\u5339\u914d"}),"\n"]}),"\n",(0,d.jsx)(e.h3,{id:"3-\u56de\u6e90\u5931\u8d25",children:"3. \u56de\u6e90\u5931\u8d25"}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u68c0\u67e5\u9879"}),"\uff1a"]}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u6e90\u7ad9\u662f\u5426\u6b63\u5e38"}),"\n",(0,d.jsx)(e.li,{children:"\u5b89\u5168\u7ec4\u662f\u5426\u5141\u8bb8 CDN \u56de\u6e90 IP"}),"\n",(0,d.jsx)(e.li,{children:"\u56de\u6e90 HOST \u662f\u5426\u6b63\u786e"}),"\n",(0,d.jsx)(e.li,{children:"\u6e90\u7ad9\u7aef\u53e3\u662f\u5426\u5f00\u653e"}),"\n"]}),"\n",(0,d.jsx)(e.h3,{id:"4-\u8bbf\u95ee\u901f\u5ea6\u6162",children:"4. \u8bbf\u95ee\u901f\u5ea6\u6162"}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u4f18\u5316\u65b9\u6848"}),"\uff1a"]}),"\n",(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsx)(e.li,{children:"\u5f00\u542f\u667a\u80fd\u538b\u7f29"}),"\n",(0,d.jsx)(e.li,{children:"\u4f18\u5316\u7f13\u5b58\u89c4\u5219"}),"\n",(0,d.jsx)(e.li,{children:"\u542f\u7528 HTTP/2"}),"\n",(0,d.jsx)(e.li,{children:"\u9884\u70ed\u70ed\u95e8\u5185\u5bb9"}),"\n"]}),"\n",(0,d.jsx)(e.h3,{id:"5-\u6d41\u91cf\u5f02\u5e38",children:"5. \u6d41\u91cf\u5f02\u5e38"}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u6392\u67e5\u6b65\u9aa4"}),"\uff1a"]}),"\n",(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsx)(e.li,{children:"\u67e5\u770b\u8bbf\u95ee\u65e5\u5fd7"}),"\n",(0,d.jsx)(e.li,{children:"\u68c0\u67e5 Referer"}),"\n",(0,d.jsx)(e.li,{children:"\u542f\u7528\u9632\u76d7\u94fe"}),"\n",(0,d.jsx)(e.li,{children:"\u8bbe\u7f6e IP \u9ed1\u540d\u5355"}),"\n"]}),"\n",(0,d.jsx)(e.h2,{id:"\u6210\u672c\u4f18\u5316",children:"\u6210\u672c\u4f18\u5316"}),"\n",(0,d.jsx)(e.h3,{id:"1-\u9009\u62e9\u5408\u9002\u7684\u8ba1\u8d39\u65b9\u5f0f",children:"1. \u9009\u62e9\u5408\u9002\u7684\u8ba1\u8d39\u65b9\u5f0f"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-yaml",children:"# \u6d41\u91cf\u6ce2\u52a8\u5927\n\u8ba1\u8d39\u65b9\u5f0f: \u6309\u6d41\u91cf\n\n# \u6d41\u91cf\u7a33\u5b9a\n\u8ba1\u8d39\u65b9\u5f0f: \u6309\u5e26\u5bbd\n"})}),"\n",(0,d.jsx)(e.h3,{id:"2-\u4f18\u5316\u7f13\u5b58\u7b56\u7565",children:"2. \u4f18\u5316\u7f13\u5b58\u7b56\u7565"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-yaml",children:"# \u63d0\u9ad8\u7f13\u5b58\u547d\u4e2d\u7387\n\u9759\u6001\u8d44\u6e90\u7f13\u5b58\u65f6\u95f4: 7-30 \u5929\n\u5ffd\u7565 URL \u53c2\u6570: \u5f00\u542f\n"})}),"\n",(0,d.jsx)(e.h3,{id:"3-\u4f7f\u7528\u8d44\u6e90\u5305",children:"3. \u4f7f\u7528\u8d44\u6e90\u5305"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u8d2d\u4e70\u6d41\u91cf\u5305\u6216\u5e26\u5bbd\u5305"}),"\n",(0,d.jsx)(e.li,{children:"\u4eab\u53d7\u66f4\u4f18\u60e0\u7684\u4ef7\u683c"}),"\n"]}),"\n",(0,d.jsx)(e.h3,{id:"4-\u6e05\u7406\u65e0\u7528\u57df\u540d",children:"4. \u6e05\u7406\u65e0\u7528\u57df\u540d"}),"\n",(0,d.jsx)(e.p,{children:"\u5b9a\u671f\u68c0\u67e5\u5e76\u5220\u9664\u4e0d\u518d\u4f7f\u7528\u7684\u52a0\u901f\u57df\u540d"}),"\n",(0,d.jsx)(e.h2,{id:"\u6700\u4f73\u5b9e\u8df5",children:"\u6700\u4f73\u5b9e\u8df5"}),"\n",(0,d.jsx)(e.h3,{id:"1-\u6e90\u7ad9\u4f18\u5316",children:"1. \u6e90\u7ad9\u4f18\u5316"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-yaml",children:'# \u542f\u7528 Gzip \u538b\u7f29\ngzip on;\ngzip_types text/plain text/css application/json application/javascript;\n\n# \u8bbe\u7f6e\u5408\u7406\u7684 Cache-Control\nlocation ~* \\.(jpg|jpeg|png|gif|ico|css|js)$ {\n    expires 7d;\n    add_header Cache-Control "public, immutable";\n}\n'})}),"\n",(0,d.jsx)(e.h3,{id:"2-\u5408\u7406\u4f7f\u7528-cdn",children:"2. \u5408\u7406\u4f7f\u7528 CDN"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"\u2705 \u9002\u5408 CDN \u52a0\u901f:\n- \u9759\u6001\u8d44\u6e90\uff08\u56fe\u7247\u3001CSS\u3001JS\uff09\n- \u4e0b\u8f7d\u6587\u4ef6\n- \u89c6\u9891\u70b9\u64ad\n- \u9759\u6001\u7f51\u9875\n\n\u274c \u4e0d\u9002\u5408 CDN \u52a0\u901f:\n- \u5b9e\u65f6\u6027\u8981\u6c42\u6781\u9ad8\u7684\u5185\u5bb9\n- \u9891\u7e41\u66f4\u65b0\u7684\u52a8\u6001\u5185\u5bb9\n- \u9700\u8981\u5b9e\u65f6\u9274\u6743\u7684\u654f\u611f\u5185\u5bb9\n"})}),"\n",(0,d.jsx)(e.h3,{id:"3-\u5b89\u5168\u914d\u7f6e",children:"3. \u5b89\u5168\u914d\u7f6e"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-yaml",children:"# \u542f\u7528 HTTPS\nHTTPS: \u5f00\u542f\n\u5f3a\u5236\u8df3\u8f6c: HTTPS \u2192 HTTPS\n\n# \u9632\u76d7\u94fe\nReferer \u9632\u76d7\u94fe: \u5f00\u542f\nURL \u9274\u6743: \u5f00\u542f\uff08\u91cd\u8981\u8d44\u6e90\uff09\n\n# \u8bbf\u95ee\u63a7\u5236\nIP \u9ed1\u540d\u5355: \u914d\u7f6e\u6076\u610f IP\nUser-Agent \u9ed1\u540d\u5355: \u963b\u6b62\u722c\u866b\n"})}),"\n",(0,d.jsx)(e.h3,{id:"4-\u76d1\u63a7\u544a\u8b66",children:"4. \u76d1\u63a7\u544a\u8b66"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-yaml",children:"# \u8bbe\u7f6e\u544a\u8b66\u89c4\u5219\n\u5e26\u5bbd\u9608\u503c: \u8d85\u8fc7 100 Mbps \u544a\u8b66\n\u6d41\u91cf\u5f02\u5e38: \u65e5\u6d41\u91cf\u589e\u957f\u8d85\u8fc7 50% \u544a\u8b66\n\u72b6\u6001\u7801\u5f02\u5e38: 5xx \u9519\u8bef\u7387\u8d85\u8fc7 5% \u544a\u8b66\n"})}),"\n",(0,d.jsx)(e.h2,{id:"\u53c2\u8003\u8d44\u6e90",children:"\u53c2\u8003\u8d44\u6e90"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:(0,d.jsx)(e.a,{href:"https://help.aliyun.com/product/27099.html",children:"\u963f\u91cc\u4e91 CDN \u5b98\u65b9\u6587\u6863"})}),"\n",(0,d.jsx)(e.li,{children:(0,d.jsx)(e.a,{href:"https://www.aliyun.com/price/product#/cdn/detail",children:"CDN \u4ef7\u683c\u8ba1\u7b97\u5668"})}),"\n",(0,d.jsx)(e.li,{children:(0,d.jsx)(e.a,{href:"https://help.aliyun.com/document_detail/91161.html",children:"CDN API \u53c2\u8003"})}),"\n",(0,d.jsx)(e.li,{children:(0,d.jsx)(e.a,{href:"https://help.aliyun.com/document_detail/65077.html",children:"CDN \u6700\u4f73\u5b9e\u8df5"})}),"\n",(0,d.jsx)(e.li,{children:(0,d.jsx)(e.a,{href:"https://help.aliyun.com/document_detail/27136.html",children:"CDN \u6027\u80fd\u4f18\u5316\u6307\u5357"})}),"\n"]})]})}function x(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,d.jsx)(e,{...n,children:(0,d.jsx)(t,{...n})}):t(n)}},8453:(n,e,l)=>{l.d(e,{R:()=>r,x:()=>c});var i=l(6540);const d={},s=i.createContext(d);function r(n){const e=i.useContext(s);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(d):n.components||d:r(n.components),i.createElement(s.Provider,{value:e},n.children)}}}]);